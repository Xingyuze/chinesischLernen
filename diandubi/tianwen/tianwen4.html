<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>《天问》第四段</title>
    <style>
        body {
            font-family: "SimSun", "宋体", serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            background-color: #f8f4e9;
            color: #333;
            line-height: 2.2;
            font-size: 2em;
        }
        h1 {
            text-align: center;
            color: #8b4513;
            margin-bottom: 40px;
            border-bottom: 2px solid #d4a76a;
            padding-bottom: 15px;
            font-size: 1.5em;
        }
        .poem-line {
            margin: 25px 0;
            text-align: center;
        }
        .character {
            display: inline-block;
            min-width: 1.2em;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            margin: 0 3px;
        }
        .character:hover {
            background-color: #f0e6d2;
        }
        .character.pinyin::after {
            content: attr(data-pinyin);
            position: absolute;
            top: -1.8em;
            left: 50%;
            transform: translateX(-50%);
            background-color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
            font-size: 0.8em;
            color: #8b4513;
            white-space: nowrap;
            z-index: 10;
        }
        .character.english::after {
            content: attr(data-english);
            position: absolute;
            top: -3.5em;
            left: 50%;
            transform: translateX(-50%);
            background-color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
            font-size: 0.8em;
            color: #8b4513;
            max-width: 300px;
            word-wrap: break-word;
            z-index: 10;
        }
        .line-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0 30px;
        }
        .action-btn {
            background-color: #d4a76a;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
            transition: background-color 0.3s;
        }
        .action-btn:hover {
            background-color: #b38b5a;
        }
        .translations {
            background-color: #fff;
            border: 2px solid #d4a76a;
            border-radius: 8px;
            padding: 15px;
            margin: 20px auto;
            max-width: 90%;
            display: none;
            font-size: 0.7em;
        }
        .translation {
            margin: 12px 0;
            line-height: 1.6;
        }
        .language {
            font-weight: bold;
            color: #8b4513;
            display: inline-block;
            min-width: 100px;
        }
        .footer {
            text-align: center;
            margin-top: 50px;
            color: #8b4513;
            font-size: 0.7em;
        }
        .punctuation {
            cursor: default;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <h1>《天问》第四段</h1>
    
    <div id="poem-container">
        <!-- 诗句将通过JavaScript动态生成 -->
    </div>
    
    <div class="footer">
        <p>古诗文辅助阅览器 &copy; 2023</p>
    </div>

    <script>
        // 诗文数据
        const poem = [
            "禹之力献功，降省下土四方。",
            "焉得彼嵞山女，而通之于台桑？",
            "闵妃匹合，厥身是继。",
            "胡维嗜不同味，而快晁饱？",
            "启代益作后，卒然离蠥。",
            "何启惟忧，而能拘是达？",
            "皆归射𥷤，而无害厥躬。",
            "何后益作革，而禹播降？",
            "启棘宾商，《九辩》《九歌》。",
            "何勤子屠母，而死分竟地？",
            "帝降夷羿，革孽夏民。",
            "胡射夫河伯，而妻彼雒嫔？",
            "冯珧利决，封狶是射。",
            "何献蒸肉之膏，而后帝不若？",
            "浞娶纯狐，眩妻爰谋。",
            "何羿之射革，而交吞揆之？",
            "阻穷西征，岩何越焉？",
            "化为黄熊，巫何活焉？",
            "咸播秬黍，莆雚是营。",
            "何由并投，而鲧疾脩盈？",
            "白蜺婴茀，胡为此堂？",
            "安得夫良药，不能固臧？"
        ];

        // 汉字数据 - 拼音和英文翻译
        const charData = {
            "禹": { pinyin: "yǔ", english: "Yu" },
            "之": { pinyin: "zhī", english: "of" },
            "力": { pinyin: "lì", english: "strength" },
            "献": { pinyin: "xiàn", english: "dedicate" },
            "功": { pinyin: "gōng", english: "achievement" },
            "降": { pinyin: "jiàng", english: "descend" },
            "省": { pinyin: "xǐng", english: "inspect" },
            "下": { pinyin: "xià", english: "below" },
            "土": { pinyin: "tǔ", english: "earth" },
            "四": { pinyin: "sì", english: "four" },
            "方": { pinyin: "fāng", english: "direction" },
            "焉": { pinyin: "yān", english: "how" },
            "得": { pinyin: "dé", english: "obtain" },
            "彼": { pinyin: "bǐ", english: "that" },
            "嵞": { pinyin: "tú", english: "Tu mountain" },
            "山": { pinyin: "shān", english: "mountain" },
            "女": { pinyin: "nǚ", english: "woman" },
            "而": { pinyin: "ér", english: "and" },
            "通": { pinyin: "tōng", english: "communicate" },
            "于": { pinyin: "yú", english: "at" },
            "台": { pinyin: "tái", english: "platform" },
            "桑": { pinyin: "sāng", english: "mulberry" },
            "闵": { pinyin: "mǐn", english: "compassionate" },
            "妃": { pinyin: "fēi", english: "consort" },
            "匹": { pinyin: "pǐ", english: "match" },
            "合": { pinyin: "hé", english: "unite" },
            "厥": { pinyin: "jué", english: "his" },
            "身": { pinyin: "shēn", english: "body" },
            "是": { pinyin: "shì", english: "this" },
            "继": { pinyin: "jì", english: "succeed" },
            "胡": { pinyin: "hú", english: "why" },
            "维": { pinyin: "wéi", english: "only" },
            "嗜": { pinyin: "shì", english: "crave" },
            "不": { pinyin: "bù", english: "not" },
            "同": { pinyin: "tóng", english: "same" },
            "味": { pinyin: "wèi", english: "taste" },
            "快": { pinyin: "kuài", english: "quick" },
            "晁": { pinyin: "cháo", english: "morning" },
            "饱": { pinyin: "bǎo", english: "full" },
            "启": { pinyin: "qǐ", english: "Qi" },
            "代": { pinyin: "dài", english: "replace" },
            "益": { pinyin: "yì", english: "Yi" },
            "作": { pinyin: "zuò", english: "become" },
            "后": { pinyin: "hòu", english: "ruler" },
            "卒": { pinyin: "zú", english: "suddenly" },
            "然": { pinyin: "rán", english: "so" },
            "离": { pinyin: "lí", english: "leave" },
            "蠥": { pinyin: "niè", english: "calamity" },
            "何": { pinyin: "hé", english: "why" },
            "惟": { pinyin: "wéi", english: "only" },
            "忧": { pinyin: "yōu", english: "worry" },
            "能": { pinyin: "néng", english: "can" },
            "拘": { pinyin: "jū", english: "confine" },
            "达": { pinyin: "dá", english: "achieve" },
            "皆": { pinyin: "jiē", english: "all" },
            "归": { pinyin: "guī", english: "return" },
            "射": { pinyin: "shè", english: "shoot" },
            "𥷤": { pinyin: "jú", english: "arrow case" },
            "无": { pinyin: "wú", english: "without" },
            "害": { pinyin: "hài", english: "harm" },
            "躬": { pinyin: "gōng", english: "body" },
            "革": { pinyin: "gé", english: "change" },
            "播": { pinyin: "bō", english: "sow" },
            "降": { pinyin: "jiàng", english: "descend" },
            "棘": { pinyin: "jí", english: "thorns" },
            "宾": { pinyin: "bīn", english: "guest" },
            "商": { pinyin: "shāng", english: "Shang" },
            "九": { pinyin: "jiǔ", english: "nine" },
            "辩": { pinyin: "biàn", english: "debate" },
            "歌": { pinyin: "gē", english: "song" },
            "勤": { pinyin: "qín", english: "diligent" },
            "子": { pinyin: "zǐ", english: "son" },
            "屠": { pinyin: "tú", english: "slaughter" },
            "母": { pinyin: "mǔ", english: "mother" },
            "死": { pinyin: "sǐ", english: "die" },
            "分": { pinyin: "fēn", english: "divide" },
            "竟": { pinyin: "jìng", english: "end" },
            "地": { pinyin: "dì", english: "ground" },
            "帝": { pinyin: "dì", english: "emperor" },
            "夷": { pinyin: "yí", english: "barbarian" },
            "羿": { pinyin: "yì", english: "Yi" },
            "孽": { pinyin: "niè", english: "calamity" },
            "夏": { pinyin: "xià", english: "Xia" },
            "民": { pinyin: "mín", english: "people" },
            "妻": { pinyin: "qī", english: "wife" },
            "河": { pinyin: "hé", english: "river" },
            "伯": { pinyin: "bó", english: "earl" },
            "雒": { pinyin: "luò", english: "Luo" },
            "嫔": { pinyin: "pín", english: "concubine" },
            "冯": { pinyin: "píng", english: "rely" },
            "珧": { pinyin: "yáo", english: "shell" },
            "利": { pinyin: "lì", english: "sharp" },
            "决": { pinyin: "jué", english: "decide" },
            "封": { pinyin: "fēng", english: "seal" },
            "狶": { pinyin: "xī", english: "boar" },
            "献": { pinyin: "xiàn", english: "offer" },
            "蒸": { pinyin: "zhēng", english: "steam" },
            "肉": { pinyin: "ròu", english: "meat" },
            "膏": { pinyin: "gāo", english: "fat" },
            "后": { pinyin: "hòu", english: "later" },
            "若": { pinyin: "ruò", english: "approve" },
            "浞": { pinyin: "zhuó", english: "Zhuo" },
            "娶": { pinyin: "qǔ", english: "marry" },
            "纯": { pinyin: "chún", english: "pure" },
            "狐": { pinyin: "hú", english: "fox" },
            "眩": { pinyin: "xuàn", english: "dazzle" },
            "妻": { pinyin: "qī", english: "wife" },
            "爰": { pinyin: "yuán", english: "then" },
            "谋": { pinyin: "móu", english: "plot" },
            "交": { pinyin: "jiāo", english: "mutual" },
            "吞": { pinyin: "tūn", english: "swallow" },
            "揆": { pinyin: "kuí", english: "measure" },
            "阻": { pinyin: "zǔ", english: "obstruct" },
            "穷": { pinyin: "qióng", english: "exhaust" },
            "西": { pinyin: "xī", english: "west" },
            "征": { pinyin: "zhēng", english: "journey" },
            "岩": { pinyin: "yán", english: "cliff" },
            "越": { pinyin: "yuè", english: "cross" },
            "化": { pinyin: "huà", english: "transform" },
            "为": { pinyin: "wéi", english: "become" },
            "黄": { pinyin: "huáng", english: "yellow" },
            "熊": { pinyin: "xióng", english: "bear" },
            "巫": { pinyin: "wū", english: "shaman" },
            "活": { pinyin: "huó", english: "revive" },
            "咸": { pinyin: "xián", english: "all" },
            "播": { pinyin: "bō", english: "sow" },
            "秬": { pinyin: "jù", english: "black millet" },
            "黍": { pinyin: "shǔ", english: "millet" },
            "莆": { pinyin: "pú", english: "reed" },
            "雚": { pinyin: "guàn", english: "heron" },
            "营": { pinyin: "yíng", english: "manage" },
            "由": { pinyin: "yóu", english: "reason" },
            "并": { pinyin: "bìng", english: "together" },
            "投": { pinyin: "tóu", english: "cast" },
            "鲧": { pinyin: "gǔn", english: "Gun" },
            "疾": { pinyin: "jí", english: "illness" },
            "脩": { pinyin: "xiū", english: "long" },
            "盈": { pinyin: "yíng", english: "full" },
            "白": { pinyin: "bái", english: "white" },
            "蜺": { pinyin: "ní", english: "rainbow" },
            "婴": { pinyin: "yīng", english: "infant" },
            "茀": { pinyin: "fú", english: "luxuriant" },
            "此": { pinyin: "cǐ", english: "this" },
            "堂": { pinyin: "táng", english: "hall" },
            "安": { pinyin: "ān", english: "how" },
            "良": { pinyin: "liáng", english: "good" },
            "药": { pinyin: "yào", english: "medicine" },
            "固": { pinyin: "gù", english: "firm" },
            "臧": { pinyin: "zāng", english: "good" }
        };

        // 完整翻译数据（22句诗的7种语言翻译）
        const translations = {
            "禹之力献功，降省下土四方。": {
                english: "Yu dedicated his strength to achievements, descended to inspect the four directions of the earth.",
                german: "Yu widmete seine Kraft den Errungenschaften, stieg herab, um die vier Richtungen der Erde zu inspizieren.",
                french: "Yu a consacré sa force à des réalisations, est descendu pour inspecter les quatre directions de la terre.",
                italian: "Yu dedicò la sua forza alle realizzazioni, scese per ispezionare le quattro direzioni della terra.",
                spanish: "Yu dedicó su fuerza a los logros, descendió para inspeccionar las cuatro direcciones de la tierra.",
                arabic: "يوه كرس قوته للإنجازات، نزل لتفقد الجهات الأربع للأرض.",
                japanese: "禹は力を尽くして功績を捧げ、降りて地上の四方を視察した。"
            },
            "焉得彼嵞山女，而通之于台桑？": {
                english: "How did he obtain that woman from Tu Mountain, and meet her at the mulberry platform?",
                german: "Wie erhielt er jene Frau vom Tu-Berg und traf sie auf der Maulbeer-Plattform?",
                french: "Comment a-t-il obtenu cette femme de la montagne Tu et l'a-t-il rencontrée sur la plate-forme des mûriers ?",
                italian: "Come ha ottenuto quella donna dalla montagna Tu e l'ha incontrata sulla piattaforma di gelso?",
                spanish: "¿Cómo obtuvo a esa mujer de la montaña Tu y se reunió con ella en la plataforma de morera?",
                arabic: "كيف حصل على تلك المرأة من جبل تو، وقابلها في منصة التوت؟",
                japanese: "どうして彼は嵞山の女を得て、台桑で彼女と通じたのか？"
            },
            // 其他20句翻译...（保持相同格式）
            "闵妃匹合，厥身是继。": {
                english: "The compassionate consort matched with him, his body was thus continued.",
                german: "Die mitfühlende Gemahlin passte zu ihm, sein Körper wurde so fortgesetzt.",
                french: "La compagne compatissante s'est accordée avec lui, son corps a donc été continué.",
                italian: "La consorte compassionevole si abbinò a lui, il suo corpo fu così continuato.",
                spanish: "La consorte compasiva se emparejó con él, su cuerpo fue así continuado.",
                arabic: "الزوجة الشفوقة تطابقت معه، جسده استمر هكذا.",
                japanese: "哀れな妃は彼と結ばれ、その身は継がれた。"
            },
            "胡维嗜不同味，而快晁饱？": {
                english: "Why did they crave different tastes, yet found morning satiety pleasurable?",
                german: "Warum sehnten sie sich nach unterschiedlichen Geschmäckern, fanden aber morgendliche Sättigung angenehm?",
                french: "Pourquoi ont-ils aspiré à des goûts différents, mais trouvé la satiété matinale agréable ?",
                italian: "Perché bramavano gusti diversi, ma trovavano piacevole la sazietà mattutina?",
                spanish: "¿Por qué anhelaban sabores diferentes, pero encontraban placentera la saciedad matutina?",
                arabic: "لماذا اشتاقوا إلى أذواق مختلفة، لكنهم وجدوا الشبع الصباحي ممتعًا؟",
                japanese: "なぜ彼らは異なる味を好み、朝の飽きを快く思ったのか？"
            },
            "启代益作后，卒然离蠥。": {
                english: "Qi replaced Yi as ruler, suddenly encountered calamity.",
                german: "Qi ersetzte Yi als Herrscher, traf plötzlich auf ein Unglück.",
                french: "Qi a remplacé Yi en tant que souverain, a soudainement rencontré une calamité.",
                italian: "Qi sostituì Yi come sovrano, incontrò improvvisamente una calamità.",
                spanish: "Qi reemplazó a Yi como gobernante, de repente encontró una calamidad.",
                arabic: "تشي حصل يي كحاكم، واجه فجأة كارثة.",
                japanese: "啓は益に代わって王となり、突然災いに遭った。"
            },
            "何启惟忧，而能拘是达？": {
                english: "Why was Qi full of worries, yet could achieve confinement?",
                german: "Warum war Qi voller Sorgen, konnte aber Einschränkung erreichen?",
                french: "Pourquoi Qi était-il plein d'inquiétudes, mais pouvait-il atteindre la restriction ?",
                italian: "Perché Qi era pieno di preoccupazioni, ma poteva raggiungere la reclusione?",
                spanish: "¿Por qué Qi estaba lleno de preocupaciones, pero podía lograr el confinamiento?",
                arabic: "لماذا كان تشي مليئًا بالهموم، لكنه استطاع تحقيق الحبس؟",
                japanese: "なぜ啓は憂いでいながら、拘束を達成できたのか？"
            },
            "皆归射𥷤，而无害厥躬。": {
                english: "All returned the arrow cases, without harming his person.",
                german: "Alle gaben die Pfeilköcher zurück, ohne seiner Person zu schaden.",
                french: "Tous ont rendu les étuis à flèches, sans nuire à sa personne.",
                italian: "Tutti restituirono i portafrecce, senza danneggiare la sua persona.",
                spanish: "Todos devolvieron los estuches de flechas, sin dañar a su persona.",
                arabic: "جميعهم أعادوا علب السهام، دون الإضرار بشخصه.",
                japanese: "皆が矢筒を返し、その身を害することはなかった。"
            },
            "何后益作革，而禹播降？": {
                english: "Why did later Yi make changes, while Yu sowed and descended?",
                german: "Warum hat der spätere Yi Änderungen vorgenommen, während Yu säte und abstieg?",
                french: "Pourquoi le Yi ultérieur a-t-il apporté des changements, tandis que Yu semait et descendait ?",
                italian: "Perché il successivo Yi ha apportato cambiamenti, mentre Yu seminava e scendeva?",
                spanish: "¿Por qué el posterior Yi hizo cambios, mientras Yu sembraba y descendía?",
                arabic: "لماذا قام يي اللاحق بالتغييرات، بينما يوه بذر ونزل؟",
                japanese: "なぜ後の益は改革を行い、禹は種をまき降りたのか？"
            },
            "启棘宾商，《九辩》《九歌》。": {
                english: "Qi hosted Shang amid thorns, with 'Nine Debates' and 'Nine Songs'.",
                german: "Qi beherbergte Shang zwischen Dornen, mit 'Neun Debatten' und 'Neun Liedern'.",
                french: "Qi a accueilli Shang parmi les épines, avec 'Neuf Débats' et 'Neuf Chansons'.",
                italian: "Qi ospitò Shang tra le spine, con 'Nove Dibattiti' e 'Nove Canzoni'.",
                spanish: "Qi acogió a Shang entre espinas, con 'Nueve Debates' y 'Nueve Canciones'.",
                arabic: "تشي استضاف شانغ بين الأشواك، مع 'تسع مناظرات' و'تسع أغان'.",
                japanese: "啓は棘の中に商を賓し、《九辯》《九歌》があった。"
            },
            "何勤子屠母，而死分竟地？": {
                english: "Why did the diligent son slaughter his mother, and death divided the land completely?",
                german: "Warum schlachtete der fleißige Sohn seine Mutter, und der Tod teilte das Land vollständig?",
                french: "Pourquoi le fils diligent a-t-il massacré sa mère, et la mort a-t-elle divisé complètement le pays ?",
                italian: "Perché il figlio diligente ha macellato sua madre e la morte ha diviso completamente la terra?",
                spanish: "¿Por qué el hijo diligente masacró a su madre y la muerte dividió completamente la tierra?",
                arabic: "لماذا ذبح الابن المجتهد أمه، والموت قسم الأرض تمامًا؟",
                japanese: "なぜ勤勉な息子は母を屠り、死が地を分け尽くしたのか？"
            },
            "帝降夷羿，革孽夏民。": {
                english: "The emperor sent down barbarian Yi, to change the calamity of Xia people.",
                german: "Der Kaiser sandte den barbarischen Yi herab, um das Unglück des Xia-Volkes zu ändern.",
                french: "L'empereur a fait descendre le barbare Yi pour changer le fléau du peuple Xia.",
                italian: "L'imperatore mandò giù il barbaro Yi per cambiare la calamità del popolo Xia.",
                spanish: "El emperador envió al bárbaro Yi para cambiar la calamidad del pueblo Xia.",
                arabic: "أرسل الإمبراطور يي البربري ليغير كارثة شعب شيا.",
                japanese: "帝は夷羿を降ろし、夏の民の災いを改めさせた。"
            },
            "胡射夫河伯，而妻彼雒嫔？": {
                english: "Why did he shoot the River Earl, and take that Luo concubine as wife?",
                german: "Warum schoss er auf den Flussgrafen und nahm jene Luo-Konkubine zur Frau?",
                french: "Pourquoi a-t-il tiré sur le comte de la rivière et pris cette concubine Luo pour femme ?",
                italian: "Perché ha sparato al Conte del Fiume e ha preso quella concubina Luo come moglie?",
                spanish: "¿Por qué le disparó al conde del río y tomó a esa concubina Luo como esposa?",
                arabic: "لماذا أطلق النار على إيرل النهر، وتزوج من كونكوبينه لو؟",
                japanese: "なぜ彼は河伯を射て、あの雒の嬪を妻としたのか？"
            },
            "冯珧利决，封狶是射。": {
                english: "Relying on shell-tipped arrows and sharp decisions, he shot the sealed boar.",
                german: "Auf Muschelspitzenpfeile und scharfe Entscheidungen vertrauend, schoss er auf das versiegelte Wildschwein.",
                french: "S'appuyant sur des flèches à pointe de coquillage et des décisions tranchantes, il a tiré sur le sanglier scellé.",
                italian: "Contando su frecce a punta di conchiglia e decisioni taglienti, ha sparato al cinghiale sigillato.",
                spanish: "Confiando en flechas con punta de concha y decisiones afiladas, disparó al jabalí sellado.",
                arabic: "اعتمادًا على سهام ذات رؤوس أصداف وقرارات حادة، أطلق النار على الخنزير البري المغلق.",
                japanese: "馮珧の利決に頼り、封狶を射た。"
            },
            "何献蒸肉之膏，而后帝不若？": {
                english: "Why did he offer the fat of steamed meat, yet the later emperor did not approve?",
                german: "Warum bot er das Fett von gedämpftem Fleisch an, doch der spätere Kaiser billigte es nicht?",
                french: "Pourquoi a-t-il offert la graisse de viande cuite à la vapeur, mais l'empereur ultérieur ne l'a-t-il pas approuvée ?",
                italian: "Perché ha offerto il grasso della carne al vapore, ma l'imperatore successivo non ha approvato?",
                spanish: "¿Por qué ofreció la grasa de la carne al vapor, pero el emperador posterior no lo aprobó?",
                arabic: "لماذا قدم دهن اللحم المطهو بالبخار، لكن الإمبراطور اللاحق لم يوافق؟",
                japanese: "なぜ蒸した肉の脂を献上したのに、後の帝は良しとしなかったのか？"
            },
            "浞娶纯狐，眩妻爰谋。": {
                english: "Zhuo married the pure fox, his dazzling wife then plotted.",
                german: "Zhuo heiratete den reinen Fuchs, seine blendende Frau plante dann.",
                french: "Zhuo a épousé le renard pur, sa femme éblouissante a ensuite comploté.",
                italian: "Zhuo sposò la volpe pura, la sua abbagliante moglie poi complottò.",
                spanish: "Zhuo se casó con el zorro puro, su deslumbrante esposa luego conspiró.",
                arabic: "تزوّج تشوو بالثعلب النقي، ثم دبرت زوجته المبهرة المكيدة.",
                japanese: "浞は純狐を娶り、眩しい妻は謀を巡らした。"
            },
            "何羿之射革，而交吞揆之？": {
                english: "Why did Yi's arrow pierce leather, yet they mutually devoured and measured him?",
                german: "Warum durchbohrte Yis Pfeil Leder, doch sie verschlangen und vermaßen ihn gegenseitig?",
                french: "Pourquoi la flèche de Yi a-t-elle percé le cuir, mais se sont-ils mutuellement dévorés et mesurés ?",
                italian: "Perché la freccia di Yi ha perforato la pelle, ma si sono divorati e misurati a vicenda?",
                spanish: "¿Por qué la flecha de Yi atravesó el cuero, pero se devoraron y midieron mutuamente?",
                arabic: "لماذا اخترق سهم يي الجلد، لكنهم التهموا وقاسوا بعضهم البعض؟",
                japanese: "なぜ羿の矢は革を射抜いたのに、互いに飲み込み測ったのか？"
            },
            "阻穷西征，岩何越焉？": {
                english: "Obstructed and exhausted on the westward journey, how did he cross the cliffs?",
                german: "Behindert und erschöpft auf der Reise nach Westen, wie überquerte er die Klippen?",
                french: "Obstrué et épuisé lors du voyage vers l'ouest, comment a-t-il traversé les falaises ?",
                italian: "Ostacolato e esausto nel viaggio verso ovest, come ha superato le scogliere?",
                spanish: "Obstruido y agotado en el viaje hacia el oeste, ¿cómo cruzó los acantilados?",
                arabic: "معوقًا ومتعبًا في الرحلة غربًا، كيف تجاوز المنحدرات؟",
                japanese: "阻まれて窮した西征で、どうして岩を越えたのか？"
            },
            "化为黄熊，巫何活焉？": {
                english: "Transformed into a yellow bear, how did the shaman revive him?",
                german: "In einen gelben Bären verwandelt, wie belebte ihn der Schamane?",
                french: "Transformé en ours jaune, comment le chaman l'a-t-il ressuscité ?",
                italian: "Trasformato in un orso giallo, come lo ha rianimato lo sciamano?",
                spanish: "Transformado en un oso amarillo, ¿cómo lo revivió el chamán?",
                arabic: "تحول إلى دب أصفر، كيف أحياه الساحر؟",
                japanese: "黄熊に化けたが、巫はどうやって生き返らせたのか？"
            },
            "咸播秬黍，莆雚是营。": {
                english: "All sowed black millet, reeds and herons were managed.",
                german: "Alle säten schwarze Hirse, Schilf und Reiher wurden bewirtschaftet.",
                french: "Tous ont semé du millet noir, les roseaux et les hérons ont été gérés.",
                italian: "Tutti seminarono miglio nero, canne e aironi furono gestiti.",
                spanish: "Todos sembraron mijo negro, se gestionaron cañas y garzas.",
                arabic: "جميعهم زرعوا الدخن الأسود، تمت إدارة القصب ومالك الحزين.",
                japanese: "皆が黒黍を播き、蒲と雚を営んだ。"
            },
            "何由并投，而鲧疾脩盈？": {
                english: "Why were they cast together, while Gun's illness grew full?",
                german: "Warum wurden sie zusammen geworfen, während Guns Krankheit voll wurde?",
                french: "Pourquoi ont-ils été jetés ensemble, alors que la maladie de Gun devenait complète ?",
                italian: "Perché sono stati gettati insieme, mentre la malattia di Gun è diventata completa?",
                spanish: "¿Por qué fueron arrojados juntos, mientras la enfermedad de Gun se volvía completa?",
                arabic: "لماذا تم رميهم معًا، بينما مرض غون أصبح كاملاً؟",
                japanese: "なぜ一緒に投げられ、鯀の病は長く満ちたのか？"
            },
            "白蜺婴茀，胡为此堂？": {
                english: "White rainbows and luxuriant ornaments, why are they in this hall?",
                german: "Weiße Regenbögen und üppiger Schmuck, warum sind sie in dieser Halle?",
                french: "Des arcs-en-ciel blancs et des ornements luxuriants, pourquoi sont-ils dans cette salle ?",
                italian: "Arcobaleni bianchi e ornamenti lussureggianti, perché sono in questa sala?",
                spanish: "Arcoíris blancos y adornos exuberantes, ¿por qué están en este salón?",
                arabic: "قوس قزح أبيض وزخارف فاخرة، لماذا هم في هذه القاعة؟",
                japanese: "白い虹と豊かな飾り、なぜこの堂にあるのか？"
            },
            "安得夫良药，不能固臧？": {
                english: "How to obtain that good medicine, that cannot be firmly preserved?",
                german: "Wie erhält man diese gute Medizin, die nicht fest bewahrt werden kann?",
                french: "Comment obtenir ce bon médicament, qui ne peut être fermement conservé ?",
                italian: "Come ottenere quel buon medicinale, che non può essere saldamente conservato?",
                spanish: "¿Cómo obtener esa buena medicina, que no se puede conservar firmemente?",
                arabic: "كيف تحصل على ذلك الدواء الجيد، الذي لا يمكن الحفاظ عليه بقوة؟",
                japanese: "どうすればあの良薬を得られるのか、固く蔵することができないのか？"
            }
        };

        // 生成诗文
        const poemContainer = document.getElementById('poem-container');
        
        poem.forEach(line => {
            // 创建诗句容器
            const lineDiv = document.createElement('div');
            lineDiv.className = 'poem-line';
            
            // 为每个字符创建可点击元素
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                
                // 跳过标点符号
                if (['，', '。', '？', '：', '」', '「', '『', '』', '《', '》'].includes(char)) {
                    const punctSpan = document.createElement('span');
                    punctSpan.className = 'punctuation';
                    punctSpan.textContent = char;
                    lineDiv.appendChild(punctSpan);
                    continue;
                }
                
                const charSpan = document.createElement('span');
                charSpan.className = 'character';
                charSpan.textContent = char;
                
                // 设置字符数据
                if (charData[char]) {
                    charSpan.dataset.pinyin = charData[char].pinyin;
                    charSpan.dataset.english = charData[char].english;
                } else {
                    charSpan.dataset.pinyin = '?';
                    charSpan.dataset.english = 'no translation';
                }
                
                // 点击事件
                let clickCount = 0;
                charSpan.addEventListener('click', function() {
                    clickCount = (clickCount + 1) % 3;
                    this.classList.remove('pinyin', 'english');
                    if (clickCount === 1) this.classList.add('pinyin');
                    else if (clickCount === 2) this.classList.add('english');
                });
                
                lineDiv.appendChild(charSpan);
            }
            
            // 创建操作按钮容器
            const actionsDiv = document.createElement('div');
            actionsDiv.className = 'line-actions';
            
            // 朗读按钮
            const readBtn = document.createElement('button');
            readBtn.className = 'action-btn';
            readBtn.textContent = '朗读';
            readBtn.addEventListener('click', function() {
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(line);
                    utterance.lang = 'zh-CN';
                    speechSynthesis.speak(utterance);
                } else {
                    alert('您的浏览器不支持语音合成功能');
                }
            });
            
            // 翻译按钮
            const translateBtn = document.createElement('button');
            translateBtn.className = 'action-btn';
            translateBtn.textContent = '翻译';
            translateBtn.addEventListener('click', function() {
                let translationsDiv = lineDiv.nextElementSibling;
                if (!translationsDiv || !translationsDiv.classList.contains('translations')) {
                    translationsDiv = document.createElement('div');
                    translationsDiv.className = 'translations';
                    lineDiv.parentNode.insertBefore(translationsDiv, lineDiv.nextSibling);
                }
                
                if (translationsDiv.style.display === 'block') {
                    translationsDiv.style.display = 'none';
                    translateBtn.textContent = '翻译';
                } else {
                    const lineTranslations = translations[line];
                    translationsDiv.innerHTML = `
                        <div class="translation"><span class="language">English:</span> ${lineTranslations.english}</div>
                        <div class="translation"><span class="language">Deutsch:</span> ${lineTranslations.german}</div>
                        <div class="translation"><span class="language">Français:</span> ${lineTranslations.french}</div>
                        <div class="translation"><span class="language">Italiano:</span> ${lineTranslations.italian}</div>
                        <div class="translation"><span class="language">Español:</span> ${lineTranslations.spanish}</div>
                        <div class="translation"><span class="language">العربية:</span> ${lineTranslations.arabic}</div>
                        <div class="translation"><span class="language">日本語:</span> ${lineTranslations.japanese}</div>
                    `;
                    translationsDiv.style.display = 'block';
                    translateBtn.textContent = '隐藏翻译';
                }
            });
            
            actionsDiv.appendChild(readBtn);
            actionsDiv.appendChild(translateBtn);
            
            poemContainer.appendChild(lineDiv);
            poemContainer.appendChild(actionsDiv);
        });
    </script>
</body>
</html>